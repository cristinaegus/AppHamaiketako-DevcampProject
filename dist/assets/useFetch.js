import{useState,useEffect}from"react";export function useFetch(e){const[t,n]=useState(null),[r,a]=useState(!0),[l,o]=useState(null),[u,s]=useState(null);useEffect(()=>{const t=new AbortController;return s(t),fetch(e,{signal:t.signal}).then(e=>e.json()).then(e=>n(e)).catch(e=>{"AbortError"===e.name||o(e)}).finally(()=>a(!1)),()=>t.abort()},[]);return{data:t,loading:r,error:l,handleCancelRequest:()=>{u&&(u.abort(),o("Cancelled Request"))}}}